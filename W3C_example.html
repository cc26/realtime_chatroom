<!DOCTYPE html>
<html>
<head>
<script>

// This is an example about how to use callback function
var xmlhttp;
function loadXMLDoc(url,cfunc){

  if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
      xmlhttp=new XMLHttpRequest();
  }
  else{// code for IE6, IE5
      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }

  /*
    I think the line below should really be above to open and send, since open and send will change the state, if we put the line below them then we might not catch the first state change.
  */
  xmlhttp.onreadystatechange=cfunc;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
}

function myFunction()
{
  loadXMLDoc("ajax_info.txt",function()
  {
      if (xmlhttp.readyState==4 && xmlhttp.status==200){
          document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
      }
  });
}
</script>
</head>
<body>

<div id="myDiv"><h2>Let AJAX change this text</h2></div>
<button type="button" onclick="myFunction()">Change Content</button>

</body>
</html>

